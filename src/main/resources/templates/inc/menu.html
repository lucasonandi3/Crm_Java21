<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Menu</title>
</head>
<body>

	<nav role="navigation" aria-label="Menu principal">
		<div class="navbar-logo">
			<a href="/welcome"> <img src="/assets/image/logo.png"
				alt="Logo de l'entreprise" />
			</a>
		</div>
		<ul id="menuList">
			<li><a sec:authorize="hasAuthority('SERVICE_CLIENT')"
				href="/listecustomers">Clients</a></li>
				<li><a
				sec:authorize="hasAuthority('GESTIONNAIRE_DES_VENTES')"
				href="/listEstimates">Devis</a> </li>
				<li><a
				sec:authorize="hasAuthority('GESTIONNAIRE_DES_VENTES')"
				href="/listOrders">Commandes</a> </li>
				<li><a
				sec:authorize="hasAuthority('RESPONSABLE')" href="/listUsers">Utilisateurs</a>
			<li><a sec:authorize="hasAuthority('RESPONSABLE')"
				href="/listUserActions">Historique</a> </li>
				<li><a href="monCompte">Mon
				Compte</a></li>
			</ul>
			<div class="menu-icon">
			<i class="fa-solid fa-bars" onclick="toggleMenu()"></i>
			</div>
		<div class="navbar-logout">
			<a href="/logout">
					<img src="/assets/image/puissance.png" alt="Icône de déconnexion" />
			</a>
		</div>
	</nav>
	<script>
		let menuList = document.getElementById('menuList');
		menuList.style.maxHeight = "0px";
		function toggleMenu(){
			if(menuList.style.maxHeight == "0px"){
				menuList.style.maxHeight = "300px";
			} else {
				menuList.style.maxHeight = "0px";
			}
		}
	</script>
	<script src="https://kit.fontawesome.com/f8e1a90484.js" crossorigin="anonymous"></script>
    <div th:fragment="menu">
        <nav role="navigation" aria-label="Main Navigation">
            <div class="navbar-logo">
                <a href="/welcome"><img src="/assets/image/logo.png" alt="Company Logo" /></a>
            </div>
            <div class="navbar-links">
                <a sec:authorize="hasAuthority('SERVICE_CLIENT')" href="/listecustomers">Clients</a>
                <a sec:authorize="hasAuthority('GESTIONNAIRE_DES_VENTES')" href="/listEstimates">Estimates</a>
                <a sec:authorize="hasAuthority('GESTIONNAIRE_DES_VENTES')" href="/listOrders">Orders</a>
                <a sec:authorize="hasAuthority('RESPONSABLE')" href="/listUsers">Users</a>
                <a sec:authorize="hasAuthority('RESPONSABLE')" href="/listUserActions">History</a>
                <a href="monCompte">My Account</a>
            </div>
            <div class="navbar-logout">
                <a href="/logout">
                    <button aria-label="Logout"><img src="/assets/image/puissance.png" alt="Logout Icon" /></button>
                </a>
            </div>
        </nav>
    </div>
</body>
</html>
